var DCSS=function(e){null==e?(this.domElement=document,console.warn("Missing target, DCss will use the entire document as a fallback. Pass document/id as a parameter.")):e==document?this.domElement=document:this.domElement=document.getElementById(e),this.offsetX=20,this.offsetY=20,this.snapStatus=!1,this.minimizeViewer=!1,this.width=400,this.height=400,this.view,this.html='<div id="dcssView__console"></div>',this.css={};let t=this;var i=e=>"string"==typeof e?e:JSON.stringify(e);this.init=(()=>{this.initHTML(),this.initCss(),this.initConsole()}),this.initCss=(()=>{"use strict";this.css.view.cssText="display: none; width: "+this.width+"px; height: "+this.height+"px; background: rgb(255, 255, 255); box-shadow: rgba(0, 0, 0, 0.4) 0px 0px 50px; padding: 20px; position: fixed; z-index: 99999999; overflow: scroll; left: 0x; top: 0px; transition: transform .2s, background .2s, border-radius .2s"}),this.initHTML=(()=>{"use strict";this.view=document.createElement("div"),this.view.id="dcssView",document.body.appendChild(this.view),this.view.innerHTML=this.html,this.css.view=this.view.style}),this.followView=(e=>{"use strict";this.css.view.display="block";let i=e.clientX,s=e.clientY;if(0==this.snapStatus||this.minimizeViewer){let n=e.clientX>window.innerWidth/2,o=e.clientY>window.innerHeight/2;window.innerWidth<2*(this.width+this.offsetX)?(this.css.view.left=window.innerWidth/2-this.width/2+"px",o?this.css.view.top=this.css.view.top=s-this.offsetY-this.width+"px":!o&&(this.css.view.top=s+this.offsetY+"px")):(n?this.css.view.left=i-t.offsetX-this.width+"px":n||(this.css.view.left=i+t.offsetX+"px"),o?(this.css.view.top=s-t.offsetY-this.height+"px",this.css.view.transformOrigin=n?"100% 100%":"0 100%"):o||(this.css.view.top=s+t.offsetY+"px",this.css.view.transformOrigin=n?"100% 0":"0 0"))}else this.snapStatus&&!this.minimizeViewer&&console.log("snapping")}),this.initConsole=(()=>{"use strict";let e;"undefined"!=typeof console&&(void 0!==console.log?console.olog=console.log:console.olog=(()=>{})),console.log=(t=>{if(console.olog(t),e==t);else{t.toString();let i=document.createElement("div"),s=document.createTextNode(t);i.classList.add("__viewLog__"),i.style.borderBottom="1px solid #efefef",i.append(s),document.getElementById("dcssView__console").append(i),this.view.scrollTop=this.view.scrollHeight-this.view.clientHeight,e=t}}),console.warn=console.error=console.info=console.info=console.log}),this.snap=((e,t)=>{"use strict";null==t&&(t=e),this.snapStatus=!0,this.css.view.left=e+"vw",this.css.view.top=t+"vh"}),this.minimize=(()=>{"use strict";1==this.minimizeViewer?(this.css.view.transform="scale3d(.05, .05, 1)",this.css.view.background="red",this.css.view.borderRadius="50%"):(this.css.view.transform="scale3d(1, 1, 1)",this.css.view.background="white",this.css.view.borderRadius="0px")}),this.init(),function(){"use strict";console.log.bind(console),console.error.bind(console),console.warn.bind(console);let e=console.table?console.table.bind(console):null;var s=function(){let e=document.createElement("div");return e.id="console-log-text",t.view.appendChild(e),e}();console.table=function(){"function"==typeof e&&e.apply(null,arguments);var t,i=arguments[0];void 0!==i[0]&&(t=Object.keys(i[0])),function(e,t){var i=t.length,s=e.length,n=document.createElement("table");n.style.width="100%",n.setAttribute("border","1");var o=document.createElement("thead"),l=document.createElement("td");l.innerHTML="Index",o.appendChild(l);for(var d=0;d<i;d++)(l=document.createElement("td")).innerHTML=t[d],o.appendChild(l);n.appendChild(o);for(var c=0;c<s;c++){var h=document.createElement("tr");(l=document.createElement("td")).innerHTML=c,h.appendChild(l);for(var r=0;r<i;r++)(l=document.createElement("td")).innerHTML=e[c][t[r]],h.appendChild(l);n.appendChild(h)}document.getElementById("console-log-text").appendChild(n)}(i,t)},window.addEventListener("error",e=>{!function(){let e=Array.prototype.slice.call(arguments,0).map(i).join(" "),t=document.createElement("div");t.textContent=e,s.appendChild(t)}("EXCEPTION:",e.message+"\n  "+e.filename,e.lineno+":"+e.colno)})}(),this.domElement.addEventListener("mouseout",()=>{!this.snapStatus&&(this.css.view.display="none")},!1),this.domElement.addEventListener("mousemove",t.followView,!1),window.onkeydown=(e=>{77==(e.keyCode,e.which)&&0==this.snapStatus&&(0==this.minimizeViewer?this.minimizeViewer=!0:this.minimizeViewer=!1,this.minimize())})};