var DCSS=function(e){null==e?this.domElement=window:e==document?this.domElement=document:this.domElement=document.getElementById(e),this.offsetX=20,this.offsetY=20,this.snapStatus=!1,this.minimizeViewer=!1,this.width=400,this.height=400,this.view,this.console,this.html='<div id="dcssView__console"></div>',this.css={},this.theme={main:"#f86666",secondary:"#555",highlight:"#f86666",text:"#151515",border:"rgba(186, 186, 186, 0.2)"},this.themeList={red:{main:"#f86666",secondary:"#555",highlight:"#f86666",text:"#151515",border:"rgba(186, 186, 186, 0.2)"},dark:{main:"rgba(0, 0, 0, 0.9)",secondary:"rgb(36, 36, 36)",highlight:"#7779b2",text:"#efefef",border:"rgba(239, 239, 239, 0.2)"}};let t=this,i=1;var s=e=>"string"==typeof e?e:JSON.stringify(e);this.init=(()=>{this.initHTML(),this.initCss(),this.initConsole()}),this.setTheme=(e=>{this.theme="dark"==e?this.themeList.dark:"red"==e?themeList.red:this.themeList.red,this.css.head.borderBottom="5px solid "+this.theme.highlight,this.css.head.background=this.theme.secondary,this.css.view.background=this.theme.main}),this.initCss=((e,t)=>{"use strict";this.css.view.cssText="display: none; width: "+this.width+"px; height: "+this.height+"px; background: rgb(255, 255, 255); box-shadow: rgba(0, 0, 0, 0.4) 0px 0px 50px; position: fixed; z-index: 99999999; overflow: hidden; transition: transform .2s, background .2s, border-radius .2s",this.css.head.cssText="position: fixed; width:"+this.width+"px; text-align: center; height: 40px; line-height: 40px; background: #333; border-bottom: 5px solid #f86666; color: white;",this.css.dcssConsole.cssText="margin-left: 25px; margin-top: 50px; height: "+(this.height-75)+"px; width: 350px; overflow: scroll"}),this.initHTML=(()=>{"use strict";this.view=document.createElement("div"),this.view.id="dcssView",document.body.appendChild(this.view),this.view.innerHTML=this.html,this.css.view=this.view.style,this.head=document.createElement("div"),this.head.id="dcssHead",this.head.innerHTML="<p>Console</p>",this.view.insertBefore(this.head,this.view.firstChild),this.css.head=this.head.style,this.console=document.getElementById("dcssView__console"),this.css.dcssConsole=this.console.style}),this.display=(e=>{"use strict";this.css.view.display="block";let i=e.clientX,s=e.clientY;if(0==this.snapStatus||this.minimizeViewer){let o=e.clientX>window.innerWidth/2,n=e.clientY>window.innerHeight/2;window.innerWidth<2*(this.width+this.offsetX)?(this.css.view.left=window.innerWidth/2-this.width/2+"px",n?this.css.view.top=this.css.view.top=s-this.offsetY-this.width+"px":!n&&(this.css.view.top=s+this.offsetY+"px")):(o?this.css.view.left=i-t.offsetX-this.width+"px":o||(this.css.view.left=i+t.offsetX+"px"),n?(this.css.view.top=s-t.offsetY-this.height+"px",this.css.view.transformOrigin=o?"100% 100%":"0 100%"):n||(this.css.view.top=s+t.offsetY+"px",this.css.view.transformOrigin=o?"100% 0":"0 0"))}else this.snapStatus&&!this.minimizeViewer&&console.log("snapping")}),this.initConsole=(()=>{"use strict";let e;"undefined"!=typeof console&&(void 0!==console.log?console.olog=console.log:console.olog=(()=>{})),console.log=(t=>{if(console.olog(t),e==t){let e=this.console.lastChild.getElementsByTagName("dcss__console-repeat")[0];e.innerHTML=i,e.style.cssText="float: right; background: "+this.theme.highlight+"; color: white; font-size: 15px; min-width: 40px; text-align: center",i<1e3?i++:i=1e3}else{i=1,t.toString();let s=document.createElement("div"),o=document.createTextNode(t),n=document.createElement("dcss__console-repeat");s.style.cssText="border-bottom: 1px solid "+this.theme.border+"; color: "+this.theme.text,s.append(o),s.appendChild(n),this.console.append(s),this.console.scrollTop=this.console.scrollHeight-this.console.clientHeight,e=t}}),console.warn=console.error=console.info=console.info=console.log}),this.snap=((e,t)=>{"use strict";null==t&&(t=e),this.snapStatus=!0,this.css.view.left=e+"vw",this.css.view.top=t+"vh"}),this.minimize=(()=>{"use strict";1==this.minimizeViewer?(this.css.view.transform="scale3d(.05, .05, 1)",this.css.view.background="red",this.css.view.borderRadius="50%"):(this.css.view.transform="scale3d(1, 1, 1)",this.css.view.background="white",this.css.view.borderRadius="0px")}),this.init(),function(){"use strict";console.log.bind(console),console.error.bind(console),console.warn.bind(console);let e=console.table?console.table.bind(console):null;console.table=function(){"function"==typeof e&&e.apply(null,arguments);var t,i=arguments[0];void 0!==i[0]&&(t=Object.keys(i[0])),function(e,t){var i=t.length,s=e.length,o=document.createElement("table");o.style.width="100%",o.setAttribute("border","1");var n=document.createElement("thead"),h=document.createElement("td");h.innerHTML="Index",n.appendChild(h);for(var d=0;d<i;d++)(h=document.createElement("td")).innerHTML=t[d],n.appendChild(h);o.appendChild(n);for(var l=0;l<s;l++){var c=document.createElement("tr");(h=document.createElement("td")).innerHTML=l,c.appendChild(h);for(var r=0;r<i;r++)(h=document.createElement("td")).innerHTML=e[l][t[r]],c.appendChild(h);o.appendChild(c)}document.getElementById("console-log-text").appendChild(o)}(i,t)},window.addEventListener("error",e=>{!function(){let e=Array.prototype.slice.call(arguments,0).map(s).join(" "),t=document.createElement("div");t.textContent=e,logTo.appendChild(t)}("EXCEPTION:",e.message+"\n  "+e.filename,e.lineno+":"+e.colno)})}(),this.domElement.addEventListener("mouseout",()=>{!this.snapStatus&&(this.css.view.display="none")},!1),this.domElement.addEventListener("load",t.display,!1),this.domElement.addEventListener("mousemove",t.display,!1),window.onkeydown=(e=>{console.log("test"),77==(e.keyCode,e.which)&&0==this.snapStatus&&(0==this.minimizeViewer?this.minimizeViewer=!0:this.minimizeViewer=!1,this.minimize())})};